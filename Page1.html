<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Bunnyfolks</title>
<style>
/* ================= GENERAL ================= */
html, body {
    margin: 0;
    padding: 0;
    overflow-x:clip;
    height: 100%;
    }

.page {
    position: relative;
    width: 100%;
    min-height: 100vh;    
    }

.bg2 {
    width: 100%;
    height: auto;
    display: block;
}

.copyright {width:25%; position:absolute; left:37%;}

.Blogo {
    position: absolute;
    top: 1.9%;
    left: 50%;
    transform: translateX(-48%);
    z-index: 3;
    width: 60vw; /* This will work now! */
    max-width: 2000px;
}

.Blogo img {
    width: 100%;
    height: auto;
    display: block;
}

.BP1, .hands {
    position: absolute;
    top: 50%;
    left: 50%;
    width: 70vw;
    max-width: 700px;
    transform: translate(-50%, -50%);
}
.BP1 { z-index: 1; transform: translateY(-49%) translateX(-50%);}
.hands { 
    z-index: 200;
    pointer-events: none;
    transform: translate(-78.3%, 19.1%) scale(4.92);
}
.hands img { width: 100%; height: auto; display: block; }

.starburger-button {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    margin-top: 585px;
    margin-left: 19px;
    width: 60px;
    cursor: pointer;
    z-index: 99;
    transition: transform 0.2s, filter 0.2s;
}
.starburger-button:hover { transform: translate(-50%, -50%) scale(1.2); filter: brightness(1.2); }

/* ================= DESKTOP COUNT ================= */
.Count {
    position: absolute;
    top: 50%;
    left: 50%;
    width: 70vw;
    height: 0;
    aspect-ratio: 7/10;
    transform: translate(-50%, -50%);
    pointer-events: none;
    cursor: pointer;
    z-index: 99;
}
.Count img {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    pointer-events: auto;
    transition: transform 0.2s, filter 0.2s;
    z-index: 105;
}

.first    { width: 80px;  margin-left: -300px; margin-top: 580px; }
.back-nav { width: 180px; margin-left: -150px; margin-top: 580px; }
.next-nav { width: 180px; margin-left: 180px;  margin-top: 580px; }
.last     { width: 80px;  margin-left: 335px;  margin-top: 580px; }

.Count img:hover { transform: translate(-50%, -50%) scale(1.1); filter: brightness(1.2); }

/* ================= DESKTOP SOCIALS ================= */
.Socials {
    position: absolute;
    top: 90%;
    left: 50%;
    width: 0;
    height: 0;
    transform: translate(-50%, -50%);
    pointer-events: none;
    z-index: 99;
}
.Socials img {
    position: absolute;
    width: 80px;
    left: 10px;
    transform: translate(-50%, -50%);
    pointer-events: auto !important;
    cursor: pointer !important;
    transition: transform 0.2s, filter 0.2s;
}
.Webtoon { margin-left: -249px; pointer-events: auto; }
.Socials img.tiktok  { width: 55px; margin-left: -80px; pointer-events: auto; }
.IG      { margin-left: 80px; pointer-events: auto; }
.Shop    { margin-left: 245px; pointer-events: auto; }
.Socials img:hover { transform: translate(-50%, -50%) scale(1.1); filter: brightness(1.2); }

/* ================= MENU ================= */
.menu-pages {
    display: grid;
    grid-template-columns: repeat(5, minmax(0, 1fr));
    gap: 12px;
    position: absolute;
    top: 65%;
    left: 53%;
    transform: translateX(-47%);
    width: min(80%, 900px);
    z-index: 100;
}
.menu { 
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    height: auto;
    z-index: 10000;
    pointer-events: none;
    display: none; /* Let JS handle the display */
}

/* The Bounce Trigger */
.menu.menu-animate {
    display: block !important;
    opacity: 1;
    pointer-events: auto;
    /* This 'cubic-bezier' is the secret to the elastic bounce */
    animation: menuBounceUp 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
}

@keyframes menuBounceUp {
    0% { 
        transform: translateY(100%); 
        opacity: 0; 
    }
    100% { 
        transform: translateY(0); 
        opacity: 1; 
    }
}
.menu-pages a { display: block; z-index: 101; }
.menu-pages a img { width: 120%; max-width: 130px; display: block; height: auto; }
.menu-pages img { width: 90px; max-width: 100%; height: auto; transition: transform 0.2s, filter 0.2s; }
.menu-pages img:hover { transform: scale(1.1); filter: brightness(1.15); }
.menu-container { position: relative; width: 100%; height: auto; pointer-events: auto; }
.menu-bg { width: 100%; height: auto; display: block; position: relative; z-index: 1; }
.Close1-button {cursor:pointer; position: absolute; top: 55%; right: 5%; width: 12%; max-width: 150px; z-index: 10; }
.TOC-button { position: absolute; width: 25%; top: 60%; left: 51%; transform: translateX(-50%); z-index: 10; }
.Close1-button:hover { transform: scale(1.2); filter: brightness(1.2); }

.menu.menu-animate ~ .Socials,
.menu.menu-animate ~ .Count,
.menu.menu-animate ~ .starburger-button { display: none !important; }
@keyframes menuSlideUp { 0% { transform: translateY(100%); opacity: 0; } 100% { transform: translateY(0); opacity: 1; }
 }
/* Animation for the "Push" effect */
.Count-mobile img:active, 
.Socials.mobile-only img:active,
.starburger-button:active {
    transform: translateX(-50%) scale(0.9); /* Shrinks slightly and maintains centering */
    filter: brightness(0.8); /* Dims slightly to look like it's being pressed down */
    transition: transform 0.1s ease; /* Fast response for the press */
}
.desktop-only { display: block; }
.mobile-only { display: none; }

/* ================= MOBILE ================= */
@media screen and (max-width: 600px) {
    /* Hide desktop, show mobile */
    .desktop-only { display: none !important; }
    .mobile-only { display: block !important; }

    :root {
        --mobile-starburger-size: 50px;
        --mobile-count-size: 42px;
        --mobile-social-size: 40px;
        --mobile-starburger-bottom: 230px;
        --mobile-count-bottom: 280px;
        --mobile-social-bottom: 60px;
        --mobile-count-gap: 89px;
        --mobile-social-gap: 75px;
    }

    /* STARBURGER */
    .starburger-button {
        top: auto; bottom: var(--mobile-starburger-bottom);
        left: 53%;
        width: var(--mobile-starburger-size);
        margin: 0 !important;
        transform: translateX(-50%);
        z-index: 999;
    }

    /* COUNT */
    .Count-mobile {
        position: absolute;
        bottom: var(--mobile-count-bottom);
        left: 0%;
        width:100%;
        height: auto;
        pointer-events: none;
        z-index: 998;
    }
    .Count-mobile img {
        position: absolute;
        width: var(--mobile-social-size);
        margin: 0 !important;
        transform: translateX(-50%);
        pointer-events: auto;
        cursor: pointer;
    }
    /* Individual widths */
    .Count-mobile img.m-first    { width: 35px; }
    .Count-mobile img.m-back-nav { width: 80px; }
    .Count-mobile img.m-next-nav { width: 80px; }
    .Count-mobile img.m-last     { width: 35px; }

   /* Update these to ensure they align to the screen center */
.Count-mobile img.m-first    { left: calc(50% - var(--mobile-count-gap) * 1.5); }
.Count-mobile img.m-back-nav { left: calc(50% - var(--mobile-count-gap) * 0.8);bottom: -35px !important; }
.Count-mobile img.m-next-nav { left: calc(50% + var(--mobile-count-gap) * 0.9);bottom: -35px !important; }
.Count-mobile img.m-last     { left: calc(50% + var(--mobile-count-gap) * 1.6); }

    /* SOCIALS */
   /* MOBILE SOCIALS */
    .Socials {
        top: auto;
        bottom: var(--mobile-social-bottom);
        left: 50%;
        width: 0;
        height: auto;
        pointer-events: auto;
        z-index: 997;
    }

    .Socials img {
        position: absolute; /* ensure absolute positioning */
        width: var(--mobile-social-size);
        transform: translateX(-50%);
        margin: 0 !important;
        pointer-events: auto;
        cursor: pointer;
    }

    .Socials img.tiktok {
    width: 25px;  /* Your custom width */
}
  
    /* Horizontal offsets from center using the mobile gap */
    .Socials img.Webtoon { left: calc(50% - var(--mobile-social-gap) * 1.5); }
    .Socials img.tiktok  { left: calc(50% - var(--mobile-social-gap) * 0.5); }
    .Socials img.IG      { left: calc(50% + var(--mobile-social-gap) * 0.5); }
    .Socials img.Shop    { left: calc(50% + var(--mobile-social-gap) * 1.5); }
}

    .Webtoon { left: calc(50% - var(--mobile-social-gap) * 1.5); }
    .tiktok  { left: calc(50% - var(--mobile-social-gap) * 0.5); }
    .IG      { left: calc(50% + var(--mobile-social-gap) * 0.5); }
    .Shop    { left: calc(50% + var(--mobile-social-gap) * 1.5); }

    .menu-pages{
        transform: translateX(-53%);
    }

    @media screen and (max-width: 600px) {

    .hands {
        transform: translate(-78.3%, 17.8%) scale(4.92); 
        width: 70vw;
    }
    
    .BP1 {
        transform: translateY(-49%) translateX(-50%);
    }
}

/* Show desktop by default */
.desktop-only { display: block; }
.mobile-only { display: none; }

</style>
</head>
<body>

<div class="page">
    <img src="Img/bg2.png" class="bg2" alt="Background">
    <img src="Img/copyright.png" class="copyright" alt="copyright">

    <div class="BP1">
        <img id="comic-main" src="Chapters/BP1.jpg" alt="Comic Page" style="width:100%;height:auto;">
    </div>

    <div class="Blogo">
        <a href="index.html"><img src="Img/Blogo.gif" alt="Logo"></a>
    </div>

    <div class="hands"><img src="Img/hands.png" alt="Hands"></div>

    <!-- MENU -->
    <div id="nav-menu" class="menu">
        <div class="menu-container">
            <img src="Menu/menu.png" class="menu-bg">
            <img src="Menu/Close1.png" class="Close1-button" onclick="toggleMenu()">
            <img src="Menu/TOC.png" class="TOC-button">
            <div class="menu-pages" id="toc-grid"></div>
        </div>
    </div>

    <!-- STARBURGER -->
    <img src="Menu/starburger.png" class="starburger-button" onclick="toggleMenu()">

    <!-- COUNT NAVIGATION DESKTOP -->
    <div class="Count desktop-only">
        <img src="Count/first.png" class="first" onclick="goToPage(1)">
        <img src="Count/back-nav.png" class="back-nav" onclick="changePage(-1)">
        <img src="Count/next-nav.png" class="next-nav" onclick="changePage(1)">
        <img src="Count/last.png" class="last" onclick="goToPage(23)">
    </div>

    <!-- COUNT NAVIGATION MOBILE -->
    <div class="Count-mobile mobile-only">
        <img src="Count/first.png" class="m-first" onclick="goToPage(1)">
        <img src="Count/back-nav.png" class="m-back-nav" onclick="changePage(-1)">
        <img src="Count/next-nav.png" class="m-next-nav" onclick="changePage(1)">
        <img src="Count/last.png" class="m-last" onclick="goToPage(23)">
    </div>

    <!-- SOCIALS -->
    <!-- Desktop socials -->
<div class="Socials desktop-only">
    <a href="https://webtoon.com" target="_blank"><img src="Socials/Webtoon.png" class="Webtoon"></a>
    <a href="https://www.tiktok.com/@chroniclesighs?_r=1&_t=ZT-93Bz7zmGWIx" target="_blank"><img src="Socials/tiktok.png" class="tiktok"></a>
    <a href="https://www.instagram.com/chroniclesighs?igsh=MWJibzhlcGM0NTFjdQ==" target="_blank"><img src="Socials/IG.png" class="IG"></a>
    <a href="https://shop.com" target="_blank"><img src="Socials/Shop.png" class="Shop"></a>
</div>

<!-- Mobile socials -->
<div class="Socials mobile-only">
    <a href="https://webtoon.com" target="_blank"><img src="Socials/Webtoon.png" class="Webtoon"></a>
    <a href="https://tiktok.com" target="_blank"><img src="Socials/tiktok.png" class="tiktok"></a>
    <a href="https://instagram.com" target="_blank"><img src="Socials/IG.png" class="IG"></a>
    <a href="https://shop.com" target="_blank"><img src="Socials/Shop.png" class="Shop"></a>
</div>

</div>

<script>
let currentPage = 1;
const totalPages = 23;

function changePage(step) {
    let newPage = currentPage + step;
    if(newPage>=1 && newPage<=totalPages){ goToPage(newPage); }
}

function goToPage(pageNum) {
    currentPage = pageNum;
    document.getElementById('comic-main').src = `Chapters/BP${currentPage}.jpg`;
    const menu = document.getElementById('nav-menu');
    menu.classList.remove('menu-animate');
    menu.style.display = 'none';
}

let isMenuOpen = false; // Track the state manually for instant response

function toggleMenu() {
    const menu = document.getElementById('nav-menu');
    
    if (!isMenuOpen) {
        menu.style.display = 'block';
        void menu.offsetWidth; // This is the "Magic Line" that ensures the bounce plays
        menu.classList.add('menu-animate');
        isMenuOpen = true;
    } else {
        menu.classList.remove('menu-animate');
        setTimeout(() => {
            if (!isMenuOpen) menu.style.display = 'none';
        }, 500); 
        isMenuOpen = false;
    }
}

// Build TOC pages
const grid = document.getElementById('toc-grid');
for(let i=1;i<=totalPages;i++){
    const btn = document.createElement('a');
    btn.style.cursor = "pointer";
    btn.innerHTML = `<img src="Menu/Pg${i}.png" alt="Page ${i}">`;
    btn.onclick = function(){ goToPage(i); };
    grid.appendChild(btn);
}
</script>
</body>
</html>
